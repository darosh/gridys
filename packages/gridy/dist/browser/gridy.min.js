!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Gridy=t()}}(function(){return function t(n,r,i){function o(a,s){if(!r[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(e)return e(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[a]={exports:{}};n[a][0].call(c.exports,function(t){var r=n[a][1][t];return o(r?r:t)},c,c.exports,t,n,r,i)}return r[a].exports}for(var e="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,n,r){var i;!function(t){"use strict"}(i||(i={}));var i;!function(t){"use strict"}(i||(i={}));var i;!function(t){"use strict"}(i||(i={}));var i;!function(t){"use strict";var n=function(){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=t,this.y=n}return t.prototype.v=function(){return[this.x,this.y]},t.prototype.distance=function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y))/2)},t.prototype.toString=function(){return this.x+","+this.y},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.scale=function(n){return new t(this.x*n,this.y*n)},t.prototype.cubeLength=function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y))/2)},t}();t.Integer2=n}(i||(i={}));var i;!function(t){"use strict";var n=function(){function n(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=t,this.y=n}return n.round=function(n){var r=Math.round(n.x),i=Math.round(n.y);return new t.Integer2(r,i)},n.lerp=function(t,r,i){return new n(t.x+(r.x-t.x)*i,t.y+(r.y-t.y)*i)},n.line=function(t,r){for(var i=t.distance(r),o=[],e=0;i+1>e;e++)o.push(n.round(n.lerp(t,r,1/Math.max(1,i)*e)));return o},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},n.prototype.v=function(){return[this.x,this.y]},n.prototype.scale=function(t){return new n(this.x*t,this.y*t)},n.prototype.toString=function(){return this.v().join(",")},n}();t.Float2=n}(i||(i={}));var i,o=this.__extends||function(t,n){function r(){this.constructor=t}for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r};!function(t){"use strict";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n}(t.Integer2);t.Position=n}(i||(i={}));var i;!function(t){"use strict";var n=function(){function t(t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),this.minX=0,this.maxX=0,this.minY=0,this.maxY=0,this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}return t.add=function(n,r){return new t(n.minX+r.minX,n.maxX+r.maxX,n.minY+r.minY,n.maxY+r.maxY)},t}();t.Rectangle=n}(i||(i={}));var i;!function(t){"use strict"}(i||(i={}));var i;!function(t){"use strict"}(i||(i={}));var i;!function(t){"use strict";var n;!function(n){function r(n){for(var r=new t.Rectangle,i=0;i<n.length;i++){var o=n[i];o.x<r.minX&&(r.minX=o.x),o.x>r.maxX&&(r.maxX=o.x),o.y<r.minY&&(r.minY=o.y),o.y>r.maxY&&(r.maxY=o.y)}return r}function i(n){var i=n.tiles.map(function(t){return n.center(t)}),o=r(n.vertices()),e=r(i);return t.Rectangle.add(o,e)}n.bounds=i}(n=t.Bounds||(t.Bounds={}))}(i||(i={}));var i;!function(t){"use strict";var n=function(){function t(t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=n,this.z=r}return t.prototype.distance=function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z))/2)},t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y,this.z+n.z)},t.prototype.scale=function(n){return new t(this.x*n,this.y*n,this.z*n)},t.prototype.toString=function(){return this.v().join(",")},t.prototype.v=function(){return[this.x,this.y,this.z]},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.round=function(){return new t(Math.round(this.x),Math.round(this.y),Math.round(this.z))},t.prototype.cubeLength=function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z))/2)},t}();t.Integer3=n}(i||(i={}));var i;!function(t){"use strict";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype.shift=function(){return n.directions[4]},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y,i.z)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y,i.z)},n.prototype.neighbors=function(){for(var t=[],r=0;6>r;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(1,-1,0),new n(1,0,-1),new n(0,1,-1),new n(-1,1,0),new n(-1,0,1),new n(0,-1,1)],n}(t.Integer3);t.HexagonalTile=n}(i||(i={}));var i;!function(t){"use strict";!function(t){t[t.TrapezoidalEven=0]="TrapezoidalEven",t[t.TrapezoidalOdd=1]="TrapezoidalOdd",t[t.Hexagonal=2]="Hexagonal",t[t.Triangular=3]="Triangular",t[t.Rhombus=4]="Rhombus"}(t.GridShape||(t.GridShape={}));t.GridShape}(i||(i={}));var i;!function(t){"use strict";var n=function(){function n(t,r,i,o,e){void 0===e&&(e=null),this.angle=-30,this.tileTypes=1,this.scale=t,this.radius=n.SQRT_3_2*t/2,this.orientation=r,this.x=o,this.y=e,this.shape=i,0===i&&r===!1?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):0===i&&r===!0?(this.toTile=n.evenRToCube,this.toPoint=n.cubeToEvenR,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):1===i&&r===!1?(this.toTile=n.oddQToCube,this.toPoint=n.cubeToOddQ,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):1===i&&r===!0?(this.toTile=n.oddRToCube,this.toPoint=n.cubeToOddR,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):2===i?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.hexagonalShape(o)):3===i?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.triangularShape(o)):4===i&&(this.toTile=n.twoAxisToCube,this.toPoint=n.cubeToTwoAxis,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile))}return n.twoAxisToCube=function(n){return new t.HexagonalTile(n.x,-n.y-n.x,n.y)},n.cubeToTwoAxis=function(n){return new t.Position(Math.floor(n.x),Math.floor(n.z))},n.oddQToCube=function(n){var r=n.x,i=n.y-(n.x-(1&n.x)>>1);return new t.HexagonalTile(r,-r-i,i)},n.cubeToOddQ=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r,i+(r-(1&r)>>1))},n.evenQToCube=function(n){var r=n.x,i=n.y-(n.x+(1&n.x)>>1);return new t.HexagonalTile(r,-r-i,i)},n.cubeToEvenQ=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r,i+(r+(1&r)>>1))},n.oddRToCube=function(n){var r=n.y,i=n.x-(n.y-(1&n.y)>>1);return new t.HexagonalTile(i,-i-r,r)},n.cubeToOddR=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r+(i-(1&i)>>1),i)},n.evenRToCube=function(n){var r=n.y,i=n.x-(n.y+(1&n.y)>>1);return new t.HexagonalTile(i,-i-r,r)},n.cubeToEvenR=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r+(i+(1&i)>>1),i)},n.trapezoidalShape=function(n,r,i,o,e){for(var a=[],s=n;r>s;s++)for(var u=i;o>u;u++)a.push(e(new t.Position(s,u)));return a},n.triangularShape=function(n){for(var r=[],i=0;n>i;i++)for(var o=0;i+1>o;o++)r.push(new t.HexagonalTile(o,-i,i-o));return r},n.hexagonalShape=function(n){for(var r=[],i=-n;n>i;i++)for(var o=-n;n>o;o++){var e=-i-o;Math.abs(i)<n&&Math.abs(o)<n&&Math.abs(e)<n&&r.push(new t.HexagonalTile(i,o,e))}return r},n.region=function(n,r,i,o,e,a){for(var s=[],u=n;r>=u;u++)for(var h=Math.max(i,-u-a);h<=Math.min(o,-u-e);h++){var c=-u-h;s.push(new t.HexagonalTile(u,h,c))}return s},n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.vertices=function(n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=[];n=null===n?!1:this.orientation,r=null===r?this.scale:r;for(var o=0;6>o;o++){var e=2*Math.PI*(2*o-(n?1:0))/12;i.push(new t.Float2(.5*r*Math.cos(e),.5*r*Math.sin(e)))}return i},n.prototype.center=function(r){var i,o=this.scale/2;return i=this.orientation?new t.Float2(n.SQRT_3*r.x+n.SQRT_3_2*r.z,1.5*r.z):new t.Float2(1.5*r.x,n.SQRT_3_2*r.x+n.SQRT_3*r.z),i.scale(o)},n.prototype.position=function(r){var i=this.scale/2;r=r.scale(1/i);var o,e;return this.orientation?(o=n.SQRT_3_3*r.x+-1/3*r.y,e=2/3*r.y,new t.HexagonalTile(Math.round(o),Math.round(-o-e),Math.round(e))):(o=2/3*r.x,e=-1/3*r.x+n.SQRT_3_3*r.y,new t.HexagonalTile(Math.round(o),Math.round(-o-e),Math.round(e)))},n.SQRT_3=Math.sqrt(3),n.SQRT_3_2=Math.sqrt(3)/2,n.SQRT_3_3=Math.sqrt(3)/3,n}();t.HexagonalGrid=n}(i||(i={}));var i;!function(t){"use strict";var n=function(n){function r(t,r,i,o,e){void 0===e&&(e=null),n.call(this,t,r,i,o,e),this.angle=0,this.radius=Math.sqrt(2)/4*t}return o(r,n),r.prototype.vertices=function(n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=[];r=null===r?this.scale:r;for(var o=0;4>o;o++){var e=2*Math.PI*(2*o-1)/8;i.push(new t.Float2(.5*r*Math.cos(e),.5*r*Math.sin(e)))}return i},r.prototype.center=function(n){var r,i=this.scale/2;return r=this.orientation?new t.Float2(Math.sqrt(2)*n.x+Math.sqrt(2)/2*n.z,Math.sqrt(2)*n.z):new t.Float2(Math.sqrt(2)*n.x,Math.sqrt(2)/2*n.x+Math.sqrt(2)*n.z),r.scale(i)},r}(t.HexagonalGrid);t.BrickGrid=n}(i||(i={}));var i;!function(t){"use strict";var n;!function(t){t.SQRT_3=Math.sqrt(3),t.SQRT_3_2=Math.sqrt(3)/2,t.SQRT_3_3=Math.sqrt(3)/3}(n=t.Constants||(t.Constants={}))}(i||(i={}));var i;!function(t){"use strict";var n=function(){function n(t,n,r){this.x=t,this.y=n,this.z=r}return n.round=function(n){var r=Math.round(n.x),i=Math.round(n.y),o=Math.round(n.z),e=Math.abs(r-n.x),a=Math.abs(i-n.y),s=Math.abs(o-n.z);return e>a&&e>s?r=-i-o:a>s?i=-r-o:o=-r-i,new t.Integer3(r,i,o)},n.lerp=function(t,r,i){return new n(t.x+(r.x-t.x)*i,t.y+(r.y-t.y)*i,t.z+(r.z-t.z)*i)},n.line=function(t,r){for(var i=t.distance(r),o=[],e=0;i+1>e;e++)o.push(n.round(n.lerp(t,r,1/Math.max(1,i)*e)));return o},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},n.prototype.v=function(){return[this.x,this.y,this.z]},n.prototype.toString=function(){return"#{"+this.v().join(",")+"}"},n.prototype.round=function(){return n.round(this)},n}();t.Float3=n}(i||(i={}));var i;!function(t){"use strict";var n;!function(t){t.HexagonalGrid=t.HexagonalGrid,t.RectangularGrid=t.RectangularGrid,t.BrickGrid=t.BrickGrid,t.TriangularGrid=t.TriangularGrid}(n=t.Grids||(t.Grids={}))}(i||(i={}));var i;!function(t){"use strict";var n;!function(t){function n(t){var n={};return t.constructor.apply(n),n}function r(t){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=parseInt(r[i],10);o>=0&&(n[t[r[i]]]=o)}return n}function i(t){var n={};return t.forEach(function(t){n[t.toString()]=!0}),n}t.newInstance=n,t.enumerate=r,t.look=i}(n=t.Utils||(t.Utils={}))}(i||(i={}));var i;!function(t){"use strict";var n;!function(n){function r(n,r,i){var o=[];i&&o.push(n.add(t.Utils.newInstance(n)));for(var e=n.neighbors(),a=6===e.length?1:2,s=i?1:r;r>=s;s++)for(var u=n.shift().scale(s),h=0;h<e.length;h++)for(var c=0;s*a>c;c++)o.push(u.add(n)),u=u.neighbors()[h];return o}function i(t,n){for(var r=[],i=0;i<t.length;i++)for(var o=0;o<n.length;o++)t[i].equals(n[o])&&r.push(t[i]);return r}function o(t,n,r){void 0===r&&(r=!1);for(var i=[],o=0;o<t.length;o++){var e=t[o].v(),a=Math.abs(e[n%e.length])%2===1;a===r&&i.push(t[o])}return i}n.spiral=r,n.intersect=i,n.axes=o}(n=t.Path||(t.Path={}))}(i||(i={}));var i;!function(t){"use strict";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype.shift=function(){return new n(-1,1)},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y)},n.prototype.neighbors=function(){for(var t=[],r=0;r<n.directions.length;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(0,-1),new n(1,0),new n(0,1),new n(-1,0)],n}(t.Integer2);t.RectangularTile=n}(i||(i={}));var i;!function(t){"use strict";var n=function(){function n(n,r,i,o,e){void 0===e&&(e=null),this.angle=-45,this.tileTypes=1,this.scale=n,this.radius=n/2,this.orientation=r,this.x=o,this.y=e;for(var a=[],s=0;o>s;s++)for(var u=0;e>u;u++)a.push(new t.RectangularTile(s,u));this.tiles=a,this.toTile=function(n){return new t.RectangularTile(n.x,n.y)},this.toPoint=function(n){return new t.Position(n.x,n.y)}}return n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.center=function(r){return this.orientation?new t.Float2(r.x*this.scale/n.SQRT_2+r.y*this.scale/n.SQRT_2,r.y*this.scale/n.SQRT_2-r.x*this.scale/n.SQRT_2):new t.Float2(r.x*this.scale,r.y*this.scale)},n.prototype.vertices=function(r,i){void 0===r&&(r=null),void 0===i&&(i=null);var o=[];return r=null===r?!1:this.orientation,i=null===i?this.scale:i,r?(i*=n.SQRT_2,o.push(new t.Float2(-i/2,0)),o.push(new t.Float2(0,-i/2)),o.push(new t.Float2(i/2,0)),o.push(new t.Float2(0,i/2))):(o.push(new t.Float2(-i/2,-i/2)),o.push(new t.Float2(-i/2,i/2)),o.push(new t.Float2(i/2,i/2)),o.push(new t.Float2(i/2,-i/2))),o},n.prototype.position=function(n){return new t.RectangularTile(Math.round(n.x),Math.round(n.y))},n.SQRT_2=Math.sqrt(2),n}();t.RectangularGrid=n}(i||(i={}));var i;!function(t){"use strict";var n=function(){function t(t,n,r,i,o){var e=this;void 0===o&&(o=null),this.cost={},this.previous={},this.max=0,this.start=t,this.cost[t.toString()]=0,this.previous[t.toString()]=null;for(var a=[[t]],s=0;n>s&&a[s].length>0;s++)a[s+1]=[],a[s].forEach(function(t){for(var n=t.neighbors(),u=0;u<n.length;u++){var h=n[u];(!o||o[h.toString()])&&void 0===e.cost[h.toString()]&&!i[h.toString()]&&h.cubeLength()<=r&&(e.cost[h.toString()]=s+1,e.max=Math.max(e.max,s+1),e.previous[h.toString()]=t,a[s+1].push(h))}})}return t.prototype.path=function(t){for(var n=[],r=t;r;)n.push(r),r=r.equals(this.start)?null:this.previous[r.toString()];return n},t}();t.Search=n}(i||(i={}));var i;!function(t){"use strict";var n=function(t){function n(n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!1),t.call(this,n,r),this.s=i}return o(n,t),n.prototype.v=function(){return[this.x,this.y,this.s]},n.prototype.toString=function(){return this.v().join(",")},n.prototype.shift=function(){return n.directions[0]},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y)},n.prototype.neighbors=function(){for(var t=[],r=0;3>r;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(0,0,!0),new n(-1,0,!1),new n(0,-1,!1)],n}(t.Integer2);t.TriangularTile=n}(i||(i={}));var i;!function(t){"use strict";var n=function(){function n(n,r,i,o,e){void 0===e&&(e=null),this.angle=-60,this.tileTypes=2,this.scale=n,this.radius=Math.sqrt(3)/6*n,this.orientation=r,this.x=o,this.y=e,4===i?(this.tiles=this.rhombus(),this.orientation=!1):2===i?(this.tiles=this.hexagonalShape(o),this.orientation=!1):(this.tiles=this.triangle(),this.orientation=!1),this.toPoint=function(n){return new t.Position(2*n.x+(n.s?1:0),n.y)}}return n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.center=function(n){return new t.Float2((2*n.x+(n.s?1:0)+n.y)*this.scale/2,this.scale*(n.y*(Math.sqrt(3)/2)+(n.s?0:-(Math.sqrt(3)/6))))},n.prototype.vertices=function(n,r,i){return void 0===i&&(i=0),0===i?[new t.Float2(0,-this.scale*Math.sqrt(3)/3),new t.Float2(-this.scale/2,this.scale*Math.sqrt(3)/6),new t.Float2(this.scale/2,this.scale*Math.sqrt(3)/6)]:[new t.Float2(0,this.scale*(Math.sqrt(3)/6+Math.sqrt(3)/6)),new t.Float2(-this.scale/2,-this.scale*(Math.sqrt(3)/3-Math.sqrt(3)/6)),new t.Float2(this.scale/2,-this.scale*(Math.sqrt(3)/3-Math.sqrt(3)/6))]},n.prototype.position=function(n){return new t.TriangularTile(Math.round(n.x),Math.round(n.y),!1)},n.prototype.getTileType=function(t){return t.s?0:1},n.prototype.rhombus=function(){for(var n=[],r=0;r<this.x;r++)for(var i=0;i<this.y;i++)n.push(new t.TriangularTile(r,i,!1)),n.push(new t.TriangularTile(r,i,!0));return n},n.prototype.triangle=function(){for(var n=[],r=0;r<this.x;r++)for(var i=0;i<this.x-r;i++)n.push(new t.TriangularTile(i,r,!1)),i<this.x-r-1&&n.push(new t.TriangularTile(i,r,!0));return n},n.prototype.hexagonalShape=function(n){for(var r=[],i=-n;n>i;i++)for(var o=-n;n>o;o++)Math.abs(-i-o)<=n&&n>i+o&&r.push(new t.TriangularTile(i,o,!1)),Math.abs(-i-o)-1<=n&&n>i+o+1&&r.push(new t.TriangularTile(i,o,!0));return r},n}();t.TriangularGrid=n}(i||(i={})),n.exports=i},{}]},{},[1])(1)});
//# sourceMappingURL=gridy.min.js.map