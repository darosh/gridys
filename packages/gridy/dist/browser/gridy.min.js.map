{"version":3,"sources":["gridy.min.js","/source/gridy.min.js"],"names":["f","exports","module","define","window","g","global","require","s","this","n","call","l","t","i","o",1,"Gridy","r","length","Integer2","x","y","prototype","v","distance","b","Math","floor","abs","toString","equals","p","add","scale","d","cubeLength","Float2","round","h","rx","ry","lerp","a","line","N","results","push","max","k","join","__extends","__","constructor","hasOwnProperty","Position","_super","apply","arguments","Rectangle","minX","maxX","minY","maxY","Bounds","boundsOfPoints","points","rectangle","bounds","grid","centers","tiles","map","tile","center","b1","vertices","b2","Integer3","z","other","HexagonalTile","shift","directions","neighbors","dir","GridShape","HexagonalGrid","orientation","shape","angle","tileTypes","radius","SQRT_3_2","toTile","evenQToCube","toPoint","cubeToEvenQ","trapezoidalShape","evenRToCube","cubeToEvenR","oddQToCube","cubeToOddQ","oddRToCube","cubeToOddR","hexagonalShape","triangularShape","twoAxisToCube","cubeToTwoAxis","position","minQ","maxQ","minR","maxR","toCube","hexes","q","size","region","xmin","xmax","ymin","ymax","zmin","zmax","min","PI","cos","sin","SQRT_3","SQRT_3_3","sqrt","BrickGrid","cube","Constants","Float3","rz","x_diff","y_diff","z_diff","Grids","RectangularGrid","TriangularGrid","Utils","newInstance","obj","enumerate","result","keys","Object","value","parseInt","look","items","forEach","Path","spiral","start","c","H","j","intersect","axes","axe","odd","RectangularTile","px","py","SQRT_2","Search","maxMovement","maxMagnitude","blocked","available","_this","cost","previous","fringes","neighbor","undefined","path","end","node","TriangularTile","rhombus","triangle","tileType","getTileType"],"mappings":"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","file":"gridy.min.js","sourcesContent":["!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n;n=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,n.Gridy=t()}}(function(){return function t(n,r,i){function o(a,s){if(!r[a]){if(!n[a]){var u=\"function\"==typeof require&&require;if(!s&&u)return u(a,!0);if(e)return e(a,!0);var h=new Error(\"Cannot find module '\"+a+\"'\");throw h.code=\"MODULE_NOT_FOUND\",h}var c=r[a]={exports:{}};n[a][0].call(c.exports,function(t){var r=n[a][1][t];return o(r?r:t)},c,c.exports,t,n,r,i)}return r[a].exports}for(var e=\"function\"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,n,r){var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=t,this.y=n}return t.prototype.v=function(){return[this.x,this.y]},t.prototype.distance=function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y))/2)},t.prototype.toString=function(){return this.x+\",\"+this.y},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.scale=function(n){return new t(this.x*n,this.y*n)},t.prototype.cubeLength=function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y))/2)},t}();t.Integer2=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=t,this.y=n}return n.round=function(n){var r=Math.round(n.x),i=Math.round(n.y);return new t.Integer2(r,i)},n.lerp=function(t,r,i){return new n(t.x+(r.x-t.x)*i,t.y+(r.y-t.y)*i)},n.line=function(t,r){for(var i=t.distance(r),o=[],e=0;i+1>e;e++)o.push(n.round(n.lerp(t,r,1/Math.max(1,i)*e)));return o},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},n.prototype.v=function(){return[this.x,this.y]},n.prototype.scale=function(t){return new n(this.x*t,this.y*t)},n.prototype.toString=function(){return this.v().join(\",\")},n}();t.Float2=n}(i||(i={}));var i,o=this.__extends||function(t,n){function r(){this.constructor=t}for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r};!function(t){\"use strict\";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n}(t.Integer2);t.Position=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),this.minX=0,this.maxX=0,this.minY=0,this.maxY=0,this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}return t.add=function(n,r){return new t(n.minX+r.minX,n.maxX+r.maxX,n.minY+r.minY,n.maxY+r.maxY)},t}();t.Rectangle=n}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(n){function r(n){for(var r=new t.Rectangle,i=0;i<n.length;i++){var o=n[i];o.x<r.minX&&(r.minX=o.x),o.x>r.maxX&&(r.maxX=o.x),o.y<r.minY&&(r.minY=o.y),o.y>r.maxY&&(r.maxY=o.y)}return r}function i(n){var i=n.tiles.map(function(t){return n.center(t)}),o=r(n.vertices()),e=r(i);return t.Rectangle.add(o,e)}n.bounds=i}(n=t.Bounds||(t.Bounds={}))}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=n,this.z=r}return t.prototype.distance=function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z))/2)},t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y,this.z+n.z)},t.prototype.scale=function(n){return new t(this.x*n,this.y*n,this.z*n)},t.prototype.toString=function(){return this.v().join(\",\")},t.prototype.v=function(){return[this.x,this.y,this.z]},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.round=function(){return new t(Math.round(this.x),Math.round(this.y),Math.round(this.z))},t.prototype.cubeLength=function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z))/2)},t}();t.Integer3=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype.shift=function(){return n.directions[4]},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y,i.z)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y,i.z)},n.prototype.neighbors=function(){for(var t=[],r=0;6>r;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(1,-1,0),new n(1,0,-1),new n(0,1,-1),new n(-1,1,0),new n(-1,0,1),new n(0,-1,1)],n}(t.Integer3);t.HexagonalTile=n}(i||(i={}));var i;!function(t){\"use strict\";!function(t){t[t.TrapezoidalEven=0]=\"TrapezoidalEven\",t[t.TrapezoidalOdd=1]=\"TrapezoidalOdd\",t[t.Hexagonal=2]=\"Hexagonal\",t[t.Triangular=3]=\"Triangular\",t[t.Rhombus=4]=\"Rhombus\"}(t.GridShape||(t.GridShape={}));t.GridShape}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(t,r,i,o,e){void 0===e&&(e=null),this.angle=-30,this.tileTypes=1,this.scale=t,this.radius=n.SQRT_3_2*t/2,this.orientation=r,this.x=o,this.y=e,this.shape=i,0===i&&r===!1?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):0===i&&r===!0?(this.toTile=n.evenRToCube,this.toPoint=n.cubeToEvenR,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):1===i&&r===!1?(this.toTile=n.oddQToCube,this.toPoint=n.cubeToOddQ,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):1===i&&r===!0?(this.toTile=n.oddRToCube,this.toPoint=n.cubeToOddR,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):2===i?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.hexagonalShape(o)):3===i?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.triangularShape(o)):4===i&&(this.toTile=n.twoAxisToCube,this.toPoint=n.cubeToTwoAxis,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile))}return n.twoAxisToCube=function(n){return new t.HexagonalTile(n.x,-n.y-n.x,n.y)},n.cubeToTwoAxis=function(n){return new t.Position(Math.floor(n.x),Math.floor(n.z))},n.oddQToCube=function(n){var r=n.x,i=n.y-(n.x-(1&n.x)>>1);return new t.HexagonalTile(r,-r-i,i)},n.cubeToOddQ=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r,i+(r-(1&r)>>1))},n.evenQToCube=function(n){var r=n.x,i=n.y-(n.x+(1&n.x)>>1);return new t.HexagonalTile(r,-r-i,i)},n.cubeToEvenQ=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r,i+(r+(1&r)>>1))},n.oddRToCube=function(n){var r=n.y,i=n.x-(n.y-(1&n.y)>>1);return new t.HexagonalTile(i,-i-r,r)},n.cubeToOddR=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r+(i-(1&i)>>1),i)},n.evenRToCube=function(n){var r=n.y,i=n.x-(n.y+(1&n.y)>>1);return new t.HexagonalTile(i,-i-r,r)},n.cubeToEvenR=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r+(i+(1&i)>>1),i)},n.trapezoidalShape=function(n,r,i,o,e){for(var a=[],s=n;r>s;s++)for(var u=i;o>u;u++)a.push(e(new t.Position(s,u)));return a},n.triangularShape=function(n){for(var r=[],i=0;n>i;i++)for(var o=0;i+1>o;o++)r.push(new t.HexagonalTile(o,-i,i-o));return r},n.hexagonalShape=function(n){for(var r=[],i=-n;n>i;i++)for(var o=-n;n>o;o++){var e=-i-o;Math.abs(i)<n&&Math.abs(o)<n&&Math.abs(e)<n&&r.push(new t.HexagonalTile(i,o,e))}return r},n.region=function(n,r,i,o,e,a){for(var s=[],u=n;r>=u;u++)for(var h=Math.max(i,-u-a);h<=Math.min(o,-u-e);h++){var c=-u-h;s.push(new t.HexagonalTile(u,h,c))}return s},n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.vertices=function(n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=[];n=null===n?!1:this.orientation,r=null===r?this.scale:r;for(var o=0;6>o;o++){var e=2*Math.PI*(2*o-(n?1:0))/12;i.push(new t.Float2(.5*r*Math.cos(e),.5*r*Math.sin(e)))}return i},n.prototype.center=function(r){var i,o=this.scale/2;return i=this.orientation?new t.Float2(n.SQRT_3*r.x+n.SQRT_3_2*r.z,1.5*r.z):new t.Float2(1.5*r.x,n.SQRT_3_2*r.x+n.SQRT_3*r.z),i.scale(o)},n.prototype.position=function(r){var i=this.scale/2;r=r.scale(1/i);var o,e;return this.orientation?(o=n.SQRT_3_3*r.x+-1/3*r.y,e=2/3*r.y,new t.HexagonalTile(Math.round(o),Math.round(-o-e),Math.round(e))):(o=2/3*r.x,e=-1/3*r.x+n.SQRT_3_3*r.y,new t.HexagonalTile(Math.round(o),Math.round(-o-e),Math.round(e)))},n.SQRT_3=Math.sqrt(3),n.SQRT_3_2=Math.sqrt(3)/2,n.SQRT_3_3=Math.sqrt(3)/3,n}();t.HexagonalGrid=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(n){function r(t,r,i,o,e){void 0===e&&(e=null),n.call(this,t,r,i,o,e),this.angle=0,this.radius=Math.sqrt(2)/4*t}return o(r,n),r.prototype.vertices=function(n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=[];r=null===r?this.scale:r;for(var o=0;4>o;o++){var e=2*Math.PI*(2*o-1)/8;i.push(new t.Float2(.5*r*Math.cos(e),.5*r*Math.sin(e)))}return i},r.prototype.center=function(n){var r,i=this.scale/2;return r=this.orientation?new t.Float2(Math.sqrt(2)*n.x+Math.sqrt(2)/2*n.z,Math.sqrt(2)*n.z):new t.Float2(Math.sqrt(2)*n.x,Math.sqrt(2)/2*n.x+Math.sqrt(2)*n.z),r.scale(i)},r}(t.HexagonalGrid);t.BrickGrid=n}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(t){t.SQRT_3=Math.sqrt(3),t.SQRT_3_2=Math.sqrt(3)/2,t.SQRT_3_3=Math.sqrt(3)/3}(n=t.Constants||(t.Constants={}))}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(t,n,r){this.x=t,this.y=n,this.z=r}return n.round=function(n){var r=Math.round(n.x),i=Math.round(n.y),o=Math.round(n.z),e=Math.abs(r-n.x),a=Math.abs(i-n.y),s=Math.abs(o-n.z);return e>a&&e>s?r=-i-o:a>s?i=-r-o:o=-r-i,new t.Integer3(r,i,o)},n.lerp=function(t,r,i){return new n(t.x+(r.x-t.x)*i,t.y+(r.y-t.y)*i,t.z+(r.z-t.z)*i)},n.line=function(t,r){for(var i=t.distance(r),o=[],e=0;i+1>e;e++)o.push(n.round(n.lerp(t,r,1/Math.max(1,i)*e)));return o},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},n.prototype.v=function(){return[this.x,this.y,this.z]},n.prototype.toString=function(){return\"#{\"+this.v().join(\",\")+\"}\"},n.prototype.round=function(){return n.round(this)},n}();t.Float3=n}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(t){t.HexagonalGrid=t.HexagonalGrid,t.RectangularGrid=t.RectangularGrid,t.BrickGrid=t.BrickGrid,t.TriangularGrid=t.TriangularGrid}(n=t.Grids||(t.Grids={}))}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(t){function n(t){var n={};return t.constructor.apply(n),n}function r(t){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=parseInt(r[i],10);o>=0&&(n[t[r[i]]]=o)}return n}function i(t){var n={};return t.forEach(function(t){n[t.toString()]=!0}),n}t.newInstance=n,t.enumerate=r,t.look=i}(n=t.Utils||(t.Utils={}))}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(n){function r(n,r,i){var o=[];i&&o.push(n.add(t.Utils.newInstance(n)));for(var e=n.neighbors(),a=6===e.length?1:2,s=i?1:r;r>=s;s++)for(var u=n.shift().scale(s),h=0;h<e.length;h++)for(var c=0;s*a>c;c++)o.push(u.add(n)),u=u.neighbors()[h];return o}function i(t,n){for(var r=[],i=0;i<t.length;i++)for(var o=0;o<n.length;o++)t[i].equals(n[o])&&r.push(t[i]);return r}function o(t,n,r){void 0===r&&(r=!1);for(var i=[],o=0;o<t.length;o++){var e=t[o].v(),a=Math.abs(e[n%e.length])%2===1;a===r&&i.push(t[o])}return i}n.spiral=r,n.intersect=i,n.axes=o}(n=t.Path||(t.Path={}))}(i||(i={}));var i;!function(t){\"use strict\";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype.shift=function(){return new n(-1,1)},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y)},n.prototype.neighbors=function(){for(var t=[],r=0;r<n.directions.length;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(0,-1),new n(1,0),new n(0,1),new n(-1,0)],n}(t.Integer2);t.RectangularTile=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(n,r,i,o,e){void 0===e&&(e=null),this.angle=-45,this.tileTypes=1,this.scale=n,this.radius=n/2,this.orientation=r,this.x=o,this.y=e;for(var a=[],s=0;o>s;s++)for(var u=0;e>u;u++)a.push(new t.RectangularTile(s,u));this.tiles=a,this.toTile=function(n){return new t.RectangularTile(n.x,n.y)},this.toPoint=function(n){return new t.Position(n.x,n.y)}}return n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.center=function(r){return this.orientation?new t.Float2(r.x*this.scale/n.SQRT_2+r.y*this.scale/n.SQRT_2,r.y*this.scale/n.SQRT_2-r.x*this.scale/n.SQRT_2):new t.Float2(r.x*this.scale,r.y*this.scale)},n.prototype.vertices=function(r,i){void 0===r&&(r=null),void 0===i&&(i=null);var o=[];return r=null===r?!1:this.orientation,i=null===i?this.scale:i,r?(i*=n.SQRT_2,o.push(new t.Float2(-i/2,0)),o.push(new t.Float2(0,-i/2)),o.push(new t.Float2(i/2,0)),o.push(new t.Float2(0,i/2))):(o.push(new t.Float2(-i/2,-i/2)),o.push(new t.Float2(-i/2,i/2)),o.push(new t.Float2(i/2,i/2)),o.push(new t.Float2(i/2,-i/2))),o},n.prototype.position=function(n){return new t.RectangularTile(Math.round(n.x),Math.round(n.y))},n.SQRT_2=Math.sqrt(2),n}();t.RectangularGrid=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n,r,i,o){var e=this;void 0===o&&(o=null),this.cost={},this.previous={},this.max=0,this.start=t,this.cost[t.toString()]=0,this.previous[t.toString()]=null;for(var a=[[t]],s=0;n>s&&a[s].length>0;s++)a[s+1]=[],a[s].forEach(function(t){for(var n=t.neighbors(),u=0;u<n.length;u++){var h=n[u];(!o||o[h.toString()])&&void 0===e.cost[h.toString()]&&!i[h.toString()]&&h.cubeLength()<=r&&(e.cost[h.toString()]=s+1,e.max=Math.max(e.max,s+1),e.previous[h.toString()]=t,a[s+1].push(h))}})}return t.prototype.path=function(t){for(var n=[],r=t;r;)n.push(r),r=r.equals(this.start)?null:this.previous[r.toString()];return n},t}();t.Search=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(t){function n(n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!1),t.call(this,n,r),this.s=i}return o(n,t),n.prototype.v=function(){return[this.x,this.y,this.s]},n.prototype.toString=function(){return this.v().join(\",\")},n.prototype.shift=function(){return n.directions[0]},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y)},n.prototype.neighbors=function(){for(var t=[],r=0;3>r;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(0,0,!0),new n(-1,0,!1),new n(0,-1,!1)],n}(t.Integer2);t.TriangularTile=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(n,r,i,o,e){void 0===e&&(e=null),this.angle=-60,this.tileTypes=2,this.scale=n,this.radius=Math.sqrt(3)/6*n,this.orientation=r,this.x=o,this.y=e,4===i?(this.tiles=this.rhombus(),this.orientation=!1):2===i?(this.tiles=this.hexagonalShape(o),this.orientation=!1):(this.tiles=this.triangle(),this.orientation=!1),this.toPoint=function(n){return new t.Position(2*n.x+(n.s?1:0),n.y)}}return n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.center=function(n){return new t.Float2((2*n.x+(n.s?1:0)+n.y)*this.scale/2,this.scale*(n.y*(Math.sqrt(3)/2)+(n.s?0:-(Math.sqrt(3)/6))))},n.prototype.vertices=function(n,r,i){return void 0===i&&(i=0),0===i?[new t.Float2(0,-this.scale*Math.sqrt(3)/3),new t.Float2(-this.scale/2,this.scale*Math.sqrt(3)/6),new t.Float2(this.scale/2,this.scale*Math.sqrt(3)/6)]:[new t.Float2(0,this.scale*(Math.sqrt(3)/6+Math.sqrt(3)/6)),new t.Float2(-this.scale/2,-this.scale*(Math.sqrt(3)/3-Math.sqrt(3)/6)),new t.Float2(this.scale/2,-this.scale*(Math.sqrt(3)/3-Math.sqrt(3)/6))]},n.prototype.position=function(n){return new t.TriangularTile(Math.round(n.x),Math.round(n.y),!1)},n.prototype.getTileType=function(t){return t.s?0:1},n.prototype.rhombus=function(){for(var n=[],r=0;r<this.x;r++)for(var i=0;i<this.y;i++)n.push(new t.TriangularTile(r,i,!1)),n.push(new t.TriangularTile(r,i,!0));return n},n.prototype.triangle=function(){for(var n=[],r=0;r<this.x;r++)for(var i=0;i<this.x-r;i++)n.push(new t.TriangularTile(i,r,!1)),i<this.x-r-1&&n.push(new t.TriangularTile(i,r,!0));return n},n.prototype.hexagonalShape=function(n){for(var r=[],i=-n;n>i;i++)for(var o=-n;n>o;o++)Math.abs(-i-o)<=n&&n>i+o&&r.push(new t.TriangularTile(i,o,!1)),Math.abs(-i-o)-1<=n&&n>i+o+1&&r.push(new t.TriangularTile(i,o,!0));return r},n}();t.TriangularGrid=n}(i||(i={})),n.exports=i},{}]},{},[1])(1)});\n//# sourceMappingURL=gridy.min.js.map","!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n;n=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,n.Gridy=t()}}(function(){return function t(n,r,i){function o(a,s){if(!r[a]){if(!n[a]){var u=\"function\"==typeof require&&require;if(!s&&u)return u(a,!0);if(e)return e(a,!0);var h=new Error(\"Cannot find module '\"+a+\"'\");throw h.code=\"MODULE_NOT_FOUND\",h}var c=r[a]={exports:{}};n[a][0].call(c.exports,function(t){var r=n[a][1][t];return o(r?r:t)},c,c.exports,t,n,r,i)}return r[a].exports}for(var e=\"function\"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,n,r){var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=t,this.y=n}return t.prototype.v=function(){return[this.x,this.y]},t.prototype.distance=function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y))/2)},t.prototype.toString=function(){return this.x+\",\"+this.y},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.scale=function(n){return new t(this.x*n,this.y*n)},t.prototype.cubeLength=function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y))/2)},t}();t.Integer2=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=t,this.y=n}return n.round=function(n){var r=Math.round(n.x),i=Math.round(n.y);return new t.Integer2(r,i)},n.lerp=function(t,r,i){return new n(t.x+(r.x-t.x)*i,t.y+(r.y-t.y)*i)},n.line=function(t,r){for(var i=t.distance(r),o=[],e=0;i+1>e;e++)o.push(n.round(n.lerp(t,r,1/Math.max(1,i)*e)));return o},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},n.prototype.v=function(){return[this.x,this.y]},n.prototype.scale=function(t){return new n(this.x*t,this.y*t)},n.prototype.toString=function(){return this.v().join(\",\")},n}();t.Float2=n}(i||(i={}));var i,o=this.__extends||function(t,n){function r(){this.constructor=t}for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r};!function(t){\"use strict\";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n}(t.Integer2);t.Position=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),this.minX=0,this.maxX=0,this.minY=0,this.maxY=0,this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}return t.add=function(n,r){return new t(n.minX+r.minX,n.maxX+r.maxX,n.minY+r.minY,n.maxY+r.maxY)},t}();t.Rectangle=n}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\"}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(n){function r(n){for(var r=new t.Rectangle,i=0;i<n.length;i++){var o=n[i];o.x<r.minX&&(r.minX=o.x),o.x>r.maxX&&(r.maxX=o.x),o.y<r.minY&&(r.minY=o.y),o.y>r.maxY&&(r.maxY=o.y)}return r}function i(n){var i=n.tiles.map(function(t){return n.center(t)}),o=r(n.vertices()),e=r(i);return t.Rectangle.add(o,e)}n.bounds=i}(n=t.Bounds||(t.Bounds={}))}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=n,this.z=r}return t.prototype.distance=function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z))/2)},t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y,this.z+n.z)},t.prototype.scale=function(n){return new t(this.x*n,this.y*n,this.z*n)},t.prototype.toString=function(){return this.v().join(\",\")},t.prototype.v=function(){return[this.x,this.y,this.z]},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.round=function(){return new t(Math.round(this.x),Math.round(this.y),Math.round(this.z))},t.prototype.cubeLength=function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z))/2)},t}();t.Integer3=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype.shift=function(){return n.directions[4]},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y,i.z)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y,i.z)},n.prototype.neighbors=function(){for(var t=[],r=0;6>r;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(1,-1,0),new n(1,0,-1),new n(0,1,-1),new n(-1,1,0),new n(-1,0,1),new n(0,-1,1)],n}(t.Integer3);t.HexagonalTile=n}(i||(i={}));var i;!function(t){\"use strict\";!function(t){t[t.TrapezoidalEven=0]=\"TrapezoidalEven\",t[t.TrapezoidalOdd=1]=\"TrapezoidalOdd\",t[t.Hexagonal=2]=\"Hexagonal\",t[t.Triangular=3]=\"Triangular\",t[t.Rhombus=4]=\"Rhombus\"}(t.GridShape||(t.GridShape={}));t.GridShape}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(t,r,i,o,e){void 0===e&&(e=null),this.angle=-30,this.tileTypes=1,this.scale=t,this.radius=n.SQRT_3_2*t/2,this.orientation=r,this.x=o,this.y=e,this.shape=i,0===i&&r===!1?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):0===i&&r===!0?(this.toTile=n.evenRToCube,this.toPoint=n.cubeToEvenR,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):1===i&&r===!1?(this.toTile=n.oddQToCube,this.toPoint=n.cubeToOddQ,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):1===i&&r===!0?(this.toTile=n.oddRToCube,this.toPoint=n.cubeToOddR,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile)):2===i?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.hexagonalShape(o)):3===i?(this.toTile=n.evenQToCube,this.toPoint=n.cubeToEvenQ,this.tiles=n.triangularShape(o)):4===i&&(this.toTile=n.twoAxisToCube,this.toPoint=n.cubeToTwoAxis,this.tiles=n.trapezoidalShape(0,o,0,e,this.toTile))}return n.twoAxisToCube=function(n){return new t.HexagonalTile(n.x,-n.y-n.x,n.y)},n.cubeToTwoAxis=function(n){return new t.Position(Math.floor(n.x),Math.floor(n.z))},n.oddQToCube=function(n){var r=n.x,i=n.y-(n.x-(1&n.x)>>1);return new t.HexagonalTile(r,-r-i,i)},n.cubeToOddQ=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r,i+(r-(1&r)>>1))},n.evenQToCube=function(n){var r=n.x,i=n.y-(n.x+(1&n.x)>>1);return new t.HexagonalTile(r,-r-i,i)},n.cubeToEvenQ=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r,i+(r+(1&r)>>1))},n.oddRToCube=function(n){var r=n.y,i=n.x-(n.y-(1&n.y)>>1);return new t.HexagonalTile(i,-i-r,r)},n.cubeToOddR=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r+(i-(1&i)>>1),i)},n.evenRToCube=function(n){var r=n.y,i=n.x-(n.y+(1&n.y)>>1);return new t.HexagonalTile(i,-i-r,r)},n.cubeToEvenR=function(n){var r=Math.floor(n.x),i=Math.floor(n.z);return new t.Position(r+(i+(1&i)>>1),i)},n.trapezoidalShape=function(n,r,i,o,e){for(var a=[],s=n;r>s;s++)for(var u=i;o>u;u++)a.push(e(new t.Position(s,u)));return a},n.triangularShape=function(n){for(var r=[],i=0;n>i;i++)for(var o=0;i+1>o;o++)r.push(new t.HexagonalTile(o,-i,i-o));return r},n.hexagonalShape=function(n){for(var r=[],i=-n;n>i;i++)for(var o=-n;n>o;o++){var e=-i-o;Math.abs(i)<n&&Math.abs(o)<n&&Math.abs(e)<n&&r.push(new t.HexagonalTile(i,o,e))}return r},n.region=function(n,r,i,o,e,a){for(var s=[],u=n;r>=u;u++)for(var h=Math.max(i,-u-a);h<=Math.min(o,-u-e);h++){var c=-u-h;s.push(new t.HexagonalTile(u,h,c))}return s},n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.vertices=function(n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=[];n=null===n?!1:this.orientation,r=null===r?this.scale:r;for(var o=0;6>o;o++){var e=2*Math.PI*(2*o-(n?1:0))/12;i.push(new t.Float2(.5*r*Math.cos(e),.5*r*Math.sin(e)))}return i},n.prototype.center=function(r){var i,o=this.scale/2;return i=this.orientation?new t.Float2(n.SQRT_3*r.x+n.SQRT_3_2*r.z,1.5*r.z):new t.Float2(1.5*r.x,n.SQRT_3_2*r.x+n.SQRT_3*r.z),i.scale(o)},n.prototype.position=function(r){var i=this.scale/2;r=r.scale(1/i);var o,e;return this.orientation?(o=n.SQRT_3_3*r.x+-1/3*r.y,e=2/3*r.y,new t.HexagonalTile(Math.round(o),Math.round(-o-e),Math.round(e))):(o=2/3*r.x,e=-1/3*r.x+n.SQRT_3_3*r.y,new t.HexagonalTile(Math.round(o),Math.round(-o-e),Math.round(e)))},n.SQRT_3=Math.sqrt(3),n.SQRT_3_2=Math.sqrt(3)/2,n.SQRT_3_3=Math.sqrt(3)/3,n}();t.HexagonalGrid=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(n){function r(t,r,i,o,e){void 0===e&&(e=null),n.call(this,t,r,i,o,e),this.angle=0,this.radius=Math.sqrt(2)/4*t}return o(r,n),r.prototype.vertices=function(n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=[];r=null===r?this.scale:r;for(var o=0;4>o;o++){var e=2*Math.PI*(2*o-1)/8;i.push(new t.Float2(.5*r*Math.cos(e),.5*r*Math.sin(e)))}return i},r.prototype.center=function(n){var r,i=this.scale/2;return r=this.orientation?new t.Float2(Math.sqrt(2)*n.x+Math.sqrt(2)/2*n.z,Math.sqrt(2)*n.z):new t.Float2(Math.sqrt(2)*n.x,Math.sqrt(2)/2*n.x+Math.sqrt(2)*n.z),r.scale(i)},r}(t.HexagonalGrid);t.BrickGrid=n}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(t){t.SQRT_3=Math.sqrt(3),t.SQRT_3_2=Math.sqrt(3)/2,t.SQRT_3_3=Math.sqrt(3)/3}(n=t.Constants||(t.Constants={}))}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(t,n,r){this.x=t,this.y=n,this.z=r}return n.round=function(n){var r=Math.round(n.x),i=Math.round(n.y),o=Math.round(n.z),e=Math.abs(r-n.x),a=Math.abs(i-n.y),s=Math.abs(o-n.z);return e>a&&e>s?r=-i-o:a>s?i=-r-o:o=-r-i,new t.Integer3(r,i,o)},n.lerp=function(t,r,i){return new n(t.x+(r.x-t.x)*i,t.y+(r.y-t.y)*i,t.z+(r.z-t.z)*i)},n.line=function(t,r){for(var i=t.distance(r),o=[],e=0;i+1>e;e++)o.push(n.round(n.lerp(t,r,1/Math.max(1,i)*e)));return o},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},n.prototype.v=function(){return[this.x,this.y,this.z]},n.prototype.toString=function(){return\"#{\"+this.v().join(\",\")+\"}\"},n.prototype.round=function(){return n.round(this)},n}();t.Float3=n}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(t){t.HexagonalGrid=t.HexagonalGrid,t.RectangularGrid=t.RectangularGrid,t.BrickGrid=t.BrickGrid,t.TriangularGrid=t.TriangularGrid}(n=t.Grids||(t.Grids={}))}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(t){function n(t){var n={};return t.constructor.apply(n),n}function r(t){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=parseInt(r[i],10);o>=0&&(n[t[r[i]]]=o)}return n}function i(t){var n={};return t.forEach(function(t){n[t.toString()]=!0}),n}t.newInstance=n,t.enumerate=r,t.look=i}(n=t.Utils||(t.Utils={}))}(i||(i={}));var i;!function(t){\"use strict\";var n;!function(n){function r(n,r,i){var o=[];i&&o.push(n.add(t.Utils.newInstance(n)));for(var e=n.neighbors(),a=6===e.length?1:2,s=i?1:r;r>=s;s++)for(var u=n.shift().scale(s),h=0;h<e.length;h++)for(var c=0;s*a>c;c++)o.push(u.add(n)),u=u.neighbors()[h];return o}function i(t,n){for(var r=[],i=0;i<t.length;i++)for(var o=0;o<n.length;o++)t[i].equals(n[o])&&r.push(t[i]);return r}function o(t,n,r){void 0===r&&(r=!1);for(var i=[],o=0;o<t.length;o++){var e=t[o].v(),a=Math.abs(e[n%e.length])%2===1;a===r&&i.push(t[o])}return i}n.spiral=r,n.intersect=i,n.axes=o}(n=t.Path||(t.Path={}))}(i||(i={}));var i;!function(t){\"use strict\";var n=function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype.shift=function(){return new n(-1,1)},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y)},n.prototype.neighbors=function(){for(var t=[],r=0;r<n.directions.length;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(0,-1),new n(1,0),new n(0,1),new n(-1,0)],n}(t.Integer2);t.RectangularTile=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(n,r,i,o,e){void 0===e&&(e=null),this.angle=-45,this.tileTypes=1,this.scale=n,this.radius=n/2,this.orientation=r,this.x=o,this.y=e;for(var a=[],s=0;o>s;s++)for(var u=0;e>u;u++)a.push(new t.RectangularTile(s,u));this.tiles=a,this.toTile=function(n){return new t.RectangularTile(n.x,n.y)},this.toPoint=function(n){return new t.Position(n.x,n.y)}}return n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.center=function(r){return this.orientation?new t.Float2(r.x*this.scale/n.SQRT_2+r.y*this.scale/n.SQRT_2,r.y*this.scale/n.SQRT_2-r.x*this.scale/n.SQRT_2):new t.Float2(r.x*this.scale,r.y*this.scale)},n.prototype.vertices=function(r,i){void 0===r&&(r=null),void 0===i&&(i=null);var o=[];return r=null===r?!1:this.orientation,i=null===i?this.scale:i,r?(i*=n.SQRT_2,o.push(new t.Float2(-i/2,0)),o.push(new t.Float2(0,-i/2)),o.push(new t.Float2(i/2,0)),o.push(new t.Float2(0,i/2))):(o.push(new t.Float2(-i/2,-i/2)),o.push(new t.Float2(-i/2,i/2)),o.push(new t.Float2(i/2,i/2)),o.push(new t.Float2(i/2,-i/2))),o},n.prototype.position=function(n){return new t.RectangularTile(Math.round(n.x),Math.round(n.y))},n.SQRT_2=Math.sqrt(2),n}();t.RectangularGrid=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function t(t,n,r,i,o){var e=this;void 0===o&&(o=null),this.cost={},this.previous={},this.max=0,this.start=t,this.cost[t.toString()]=0,this.previous[t.toString()]=null;for(var a=[[t]],s=0;n>s&&a[s].length>0;s++)a[s+1]=[],a[s].forEach(function(t){for(var n=t.neighbors(),u=0;u<n.length;u++){var h=n[u];(!o||o[h.toString()])&&void 0===e.cost[h.toString()]&&!i[h.toString()]&&h.cubeLength()<=r&&(e.cost[h.toString()]=s+1,e.max=Math.max(e.max,s+1),e.previous[h.toString()]=t,a[s+1].push(h))}})}return t.prototype.path=function(t){for(var n=[],r=t;r;)n.push(r),r=r.equals(this.start)?null:this.previous[r.toString()];return n},t}();t.Search=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(t){function n(n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!1),t.call(this,n,r),this.s=i}return o(n,t),n.prototype.v=function(){return[this.x,this.y,this.s]},n.prototype.toString=function(){return this.v().join(\",\")},n.prototype.shift=function(){return n.directions[0]},n.prototype.directions=function(){return n.directions},n.prototype.add=function(r){var i=t.prototype.add.call(this,r);return new n(i.x,i.y)},n.prototype.scale=function(r){var i=t.prototype.scale.call(this,r);return new n(i.x,i.y)},n.prototype.neighbors=function(){for(var t=[],r=0;3>r;r++)t.push(this.add(n.directions[r]));return t},n.directions=[new n(0,0,!0),new n(-1,0,!1),new n(0,-1,!1)],n}(t.Integer2);t.TriangularTile=n}(i||(i={}));var i;!function(t){\"use strict\";var n=function(){function n(n,r,i,o,e){void 0===e&&(e=null),this.angle=-60,this.tileTypes=2,this.scale=n,this.radius=Math.sqrt(3)/6*n,this.orientation=r,this.x=o,this.y=e,4===i?(this.tiles=this.rhombus(),this.orientation=!1):2===i?(this.tiles=this.hexagonalShape(o),this.orientation=!1):(this.tiles=this.triangle(),this.orientation=!1),this.toPoint=function(n){return new t.Position(2*n.x+(n.s?1:0),n.y)}}return n.prototype.bounds=function(){return t.Bounds.bounds(this)},n.prototype.center=function(n){return new t.Float2((2*n.x+(n.s?1:0)+n.y)*this.scale/2,this.scale*(n.y*(Math.sqrt(3)/2)+(n.s?0:-(Math.sqrt(3)/6))))},n.prototype.vertices=function(n,r,i){return void 0===i&&(i=0),0===i?[new t.Float2(0,-this.scale*Math.sqrt(3)/3),new t.Float2(-this.scale/2,this.scale*Math.sqrt(3)/6),new t.Float2(this.scale/2,this.scale*Math.sqrt(3)/6)]:[new t.Float2(0,this.scale*(Math.sqrt(3)/6+Math.sqrt(3)/6)),new t.Float2(-this.scale/2,-this.scale*(Math.sqrt(3)/3-Math.sqrt(3)/6)),new t.Float2(this.scale/2,-this.scale*(Math.sqrt(3)/3-Math.sqrt(3)/6))]},n.prototype.position=function(n){return new t.TriangularTile(Math.round(n.x),Math.round(n.y),!1)},n.prototype.getTileType=function(t){return t.s?0:1},n.prototype.rhombus=function(){for(var n=[],r=0;r<this.x;r++)for(var i=0;i<this.y;i++)n.push(new t.TriangularTile(r,i,!1)),n.push(new t.TriangularTile(r,i,!0));return n},n.prototype.triangle=function(){for(var n=[],r=0;r<this.x;r++)for(var i=0;i<this.x-r;i++)n.push(new t.TriangularTile(i,r,!1)),i<this.x-r-1&&n.push(new t.TriangularTile(i,r,!0));return n},n.prototype.hexagonalShape=function(n){for(var r=[],i=-n;n>i;i++)for(var o=-n;n>o;o++)Math.abs(-i-o)<=n&&n>i+o&&r.push(new t.TriangularTile(i,o,!1)),Math.abs(-i-o)-1<=n&&n>i+o+1&&r.push(new t.TriangularTile(i,o,!0));return r},n}();t.TriangularGrid=n}(i||(i={})),n.exports=i},{}]},{},[1])(1)});\n//# sourceMappingURL=gridy.min.js.map"],"sourceRoot":"/source/"}